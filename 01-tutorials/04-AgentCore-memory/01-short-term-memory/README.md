# AgentCore Memory: 단기 메모리

## 개요

Amazon Bedrock AgentCore의 단기 메모리는 즉각적인 대화 컨텍스트와 세션 기반 정보 관리를 제공합니다. AI 에이전트가 단일 상호 작용 또는 밀접하게 관련된 세션 내에서 연속성을 유지하여 대화 전반에 걸쳐 일관되고 컨텍스트를 인식하는 응답을 보장할 수 있도록 합니다.

## 단기 메모리란 무엇인가요?

단기 메모리는 다음에 중점을 둡니다:

- **세션 연속성**: 단일 대화 세션 내에서 컨텍스트 유지
- **즉각적인 컨텍스트**: 일관된 응답을 위한 최근 대화 기록 보존
- **임시 상태**: 현재 상호 작용과 관련된 일시적 정보 관리
- **대화 흐름**: 세션 내에서 주제 간의 원활한 전환 보장

## AgentCore에서 단기 메모리가 작동하는 방식

### 이벤트 저장

AgentCore Memory는 완전한 대화 이벤트를 원시 형태로 저장하여 다음에 즉시 액세스할 수 있도록 합니다:

- 마지막 `k`개의 사용자 메시지와 에이전트 응답
- 대화 메타데이터(타임스탬프, 세션 ID, 액터 ID)
- 복잡한 상호 작용을 위한 분기 대화 경로

### 세션 관리

단기 메모리는 세션 수준에서 작동합니다:

- 각 대화 세션은 자체 컨텍스트를 유지합니다
- 관련 세션은 세션 그룹화를 통해 컨텍스트를 공유할 수 있습니다
- 만료된 세션 데이터의 자동 정리(구성된 TTL 기반)

### 실시간 액세스

백그라운드에서 처리되는 장기 메모리 전략과 달리 단기 메모리는 다음을 제공합니다:

- 최근 대화 기록의 즉시 검색
- 세션이 중단되거나 에이전트가 실패할 때 대화 연속성
- 대화가 진행됨에 따른 실시간 컨텍스트 업데이트
- 세션별 정보에 대한 낮은 지연 시간 액세스

## 모범 사례

1. **컨텍스트 윈도우 관리**: 오버플로를 방지하기 위해 컨텍스트 사용량 모니터링
2. **세션 경계**: 세션이 언제 시작되고 끝나는지 명확하게 정의
3. **메모리 정리**: 만료된 세션에 대한 적절한 정리 정책 구현
4. **오류 처리**: 메모리 검색 실패를 우아하게 처리
5. **성능 최적화**: 대용량 대화 기록에 대해 효율적인 쿼리 패턴 사용(예: 장기에서 요약 전략을 통해)

## 프레임워크와의 통합

단기 메모리는 인기 있는 에이전트 프레임워크와 원활하게 통합됩니다:

- **Strands Agent**: 대화 훅과의 네이티브 통합
- **LangGraph**: 상태 관리 통합
- **사용자 정의 프레임워크**: 유연한 구현을 위한 직접 API 액세스

## 사용 가능한 샘플 노트북

단기 메모리 구현을 학습하기 위해 이러한 실습 예제를 탐색하세요:

| 프레임워크     | 사용 사례        | 설명                                                                                            | 노트북                                                                                            | 아키텍처                                                    |
| ------------- | --------------- | ------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------- | --------------------------------------------------------------- |
| Strands Agent | 개인 에이전트  | 세션 내에서 대화 컨텍스트를 유지하고 사용자 상호 작용을 기억하는 AI 어시스턴트      | [personal-agent.ipynb](./01-single-agent/with-strands-agent/personal-agent.ipynb)                   | [보기](./01-single-agent/with-strands-agent/architecture.png)   |
| LangGraph     | 피트니스 코치   | 운동 진행 상황을 추적하고 훈련 세션 전반에 걸쳐 컨텍스트를 유지하는 개인 피트니스 코치 | [personal-fitness-coach.ipynb](./01-single-agent/with-langgraph-agent/personal-fitness-coach.ipynb) | [보기](./01-single-agent/with-langgraph-agent/architecture.png) |
| Strands Agent | 여행 계획 | 복잡한 여행 일정을 계획하면서 컨텍스트를 공유하는 협업 에이전트                      | [travel-planning-agent.ipynb](./02-multi-agent/with-strands-agent/travel-planning-agent.ipynb)      | [보기](./02-multi-agent/with-strands-agent/architecture.png)    |

## 시작하기

1. 사용 사례에 맞는 샘플 선택
2. 샘플 폴더로 이동
3. 요구 사항 설치: `pip install -r requirements.txt`
4. Jupyter 노트북을 열고 단계별 구현 따라하기

## 다음 단계

단기 메모리에 익숙해지면 [장기 메모리](../02-long-term-memory/)를 탐색하여 여러 대화와 세션에 걸쳐 작동하는 지속적인 메모리 전략에 대해 학습하세요.
